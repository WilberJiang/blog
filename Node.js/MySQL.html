<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL | Wilber-姜波</title>
    <meta name="description" content="姜波的个人网站">
    <link rel="icon" href="/blog/icon/favicon.ico">
    
    <link rel="preload" href="/blog/assets/css/0.styles.30595269.css" as="style"><link rel="preload" href="/blog/assets/js/app.cd55051b.js" as="script"><link rel="preload" href="/blog/assets/js/29.b2ceaae7.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.77b360f9.js"><link rel="prefetch" href="/blog/assets/js/11.6fed2ed0.js"><link rel="prefetch" href="/blog/assets/js/12.45fcac97.js"><link rel="prefetch" href="/blog/assets/js/13.a36f0544.js"><link rel="prefetch" href="/blog/assets/js/14.09973c4a.js"><link rel="prefetch" href="/blog/assets/js/15.58167e64.js"><link rel="prefetch" href="/blog/assets/js/16.b672a490.js"><link rel="prefetch" href="/blog/assets/js/17.063d4ceb.js"><link rel="prefetch" href="/blog/assets/js/18.19d6ca7e.js"><link rel="prefetch" href="/blog/assets/js/19.6ba4fc17.js"><link rel="prefetch" href="/blog/assets/js/2.d931aa0b.js"><link rel="prefetch" href="/blog/assets/js/20.7e7fcc4e.js"><link rel="prefetch" href="/blog/assets/js/21.70d2e103.js"><link rel="prefetch" href="/blog/assets/js/22.835e718b.js"><link rel="prefetch" href="/blog/assets/js/23.783c1181.js"><link rel="prefetch" href="/blog/assets/js/24.63be1340.js"><link rel="prefetch" href="/blog/assets/js/25.f6480a6d.js"><link rel="prefetch" href="/blog/assets/js/26.04b2c4fe.js"><link rel="prefetch" href="/blog/assets/js/27.2382688e.js"><link rel="prefetch" href="/blog/assets/js/28.345960bc.js"><link rel="prefetch" href="/blog/assets/js/3.729ebb14.js"><link rel="prefetch" href="/blog/assets/js/30.e5da16d0.js"><link rel="prefetch" href="/blog/assets/js/31.fe858abb.js"><link rel="prefetch" href="/blog/assets/js/32.0226b2b2.js"><link rel="prefetch" href="/blog/assets/js/4.8d9cff3d.js"><link rel="prefetch" href="/blog/assets/js/5.d73792fa.js"><link rel="prefetch" href="/blog/assets/js/6.0fc8d69e.js"><link rel="prefetch" href="/blog/assets/js/7.fb18cbd8.js"><link rel="prefetch" href="/blog/assets/js/8.b1c62d01.js"><link rel="prefetch" href="/blog/assets/js/9.79816390.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.30595269.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Wilber-姜波</span></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术归纳</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/HTML5/Canvas.html" class="nav-link">HTML5</a></li><li class="dropdown-item"><!----> <a href="/blog/CSS3/Background.html" class="nav-link">CSS3</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/Senior.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/blog/Node.js/Base.html" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/blog/Flutter/Record.html" class="nav-link">Flutter</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">技术归纳</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/blog/HTML5/Canvas.html" class="nav-link">HTML5</a></li><li class="dropdown-item"><!----> <a href="/blog/CSS3/Background.html" class="nav-link">CSS3</a></li><li class="dropdown-item"><!----> <a href="/blog/JavaScript/Senior.html" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/blog/Node.js/Base.html" class="nav-link">Node.js</a></li><li class="dropdown-item"><!----> <a href="/blog/Flutter/Record.html" class="nav-link">Flutter</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/Node.js/Base.html" class="sidebar-link">Node基础</a></li><li><a href="/blog/Node.js/Nginx.html" class="sidebar-link">Nginx</a></li><li><a href="/blog/Node.js/HTTP.html" class="sidebar-link">HTTP核心模块</a></li><li><a href="/blog/Node.js/Express.html" class="sidebar-link">Express</a></li><li><a href="/blog/Node.js/MongoDB.html" class="sidebar-link">MongoDB</a></li><li><a href="/blog/Node.js/Koa.html" class="sidebar-link">Koa</a></li><li><a href="/blog/Node.js/Socket.io.html" class="sidebar-link">Socket.io</a></li><li><a href="/blog/Node.js/MySQL.html" class="active sidebar-link">MySQL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#查询语句" class="sidebar-link">查询语句</a></li><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#条件查询" class="sidebar-link">条件查询</a></li><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#聚合函数" class="sidebar-link">聚合函数</a></li><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#排序-order-by" class="sidebar-link">排序(order by)</a></li><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#分组-group-by" class="sidebar-link">分组(group by)</a></li><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#分页-limit" class="sidebar-link">分页(limit)</a></li><li class="sidebar-sub-header"><a href="/blog/Node.js/MySQL.html#默认端口" class="sidebar-link">默认端口</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="mysql"><a href="#mysql" aria-hidden="true" class="header-anchor">#</a> MySQL</h1> <ul><li>创建表
<ul><li>数据类型
<ul><li>整数类型 int</li> <li>浮点类型 double</li> <li>日期类型 date/timestamp</li> <li>字符串类型 char varchar
<ul><li>可变varchar 不可变是char</li> <li>空间换时间</li></ul></li></ul></li> <li>首先足够用，其次尽量小</li></ul></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>    create table 表名(
        id int,
        name varchar(20)
    );
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><pre><code>- 查看创建表的语句
    + show create table 表名
- 查看表的明细
    + desc 表名
</code></pre> <ul><li><p>删除表</p> <ul><li>drop table 表名</li></ul></li> <li><p>插入数据</p> <ul><li>第一种：全表字段插入
<ul><li><code>insert into 表名 values (val1,val2...)</code></li> <li>插入的字段类型和<em>顺序必须</em>与表的字段<em>类型</em>与顺序保持一致,个数是针对全表字段的插入</li></ul></li> <li>指定表字段的插入
<ul><li><code>insert into 表名 (字段1,字段2...) values (val1,val2...)</code></li> <li>插入的数据的顺序要与声明的字段名的顺序一致</li> <li>类型也要一致，个数也要一致</li></ul></li></ul></li> <li><p>总结</p></li> <li><p>1: 登录：</p> <ul><li>mysql -uroot -p</li> <li>密码</li></ul></li> <li><p>2: 查看有哪些数据库</p> <ul><li>show databases;</li></ul></li> <li><p>3: 切换数据库</p> <ul><li>use 数据库名;</li></ul></li> <li><p>4: show tables;</p></li> <li><p>5: 查看表字段明细</p> <ul><li>desc 表名;</li></ul></li> <li><p>6: 插入数据</p> <ul><li><code>insert into 表名 (字段1,..) values (值1...)</code></li></ul></li> <li><p>更新操作</p> <ul><li><code>UPDATE 表名 SET 字段1 = 表达式,[,字段2 = 表达式] [WHERE express布尔值]</code></li> <li><code>update student set tmp = 20+1,sex = sex where 1=1;</code></li></ul></li> <li><p>删除操作</p> <ul><li><code>DELETE FROM 表名 [,WHERE exr布尔值]</code></li> <li><code>delete from student where name = '马蓉';</code></li></ul></li> <li><p>truncate和delete的区别</p> <ul><li><code>truncate table 表名</code>
delete会一条一条的删 自增id保留
truncate先摧毁整张表，再创建一张和原来的表结构一模一样的表
truncate在效率上比delete高
truncate只能删除整表的数据，也就是格式化。
truncate会把自增id截断恢复为1</li></ul></li></ul> <h2 id="查询语句"><a href="#查询语句" aria-hidden="true" class="header-anchor">#</a> 查询语句</h2> <ul><li>DISTINCT 去重，尽量不要根据* 来去重
<ul><li><code>select distinct name,age from student;</code></li></ul></li> <li>查询语句可以指定多个字段查询，也可以使用* 查询
<ul><li>在企业中，使用SQL查询* 是会拉低查询效率的 ，建议少用* 查询</li></ul></li></ul> <h2 id="条件查询"><a href="#条件查询" aria-hidden="true" class="header-anchor">#</a> 条件查询</h2> <ul><li><code>select * from student where math &gt; 66.6 or math &lt; 66.6;</code></li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>&gt; &lt; &lt;= &gt;= = &lt;&gt;    大于、小于、大于(小于等于)、不等于
BETWEEN…AND 显示在某一区间的值
IN(set) 显示在in列表中的值，例：in(100,200)
LIKE ‘张pattern’ 模糊查询%
IS NULL 判断是否为空
AND 多个条件同时成立
OR  多个条件任一成立
NOT 不成立，例：WHERE NOT(salary&gt;100)
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><ul><li>模糊查询
<ul><li>包含关<code>select * from student where name like '%关%';</code></li> <li>以关开头<code>select * from student where name like '关%';</code></li> <li>以关结尾<code>select * from student where name like '%关';</code></li></ul></li> <li>判断为空
<ul><li><code>select * from student where sex is not null;</code></li></ul></li></ul> <h2 id="聚合函数"><a href="#聚合函数" aria-hidden="true" class="header-anchor">#</a> 聚合函数</h2> <ul><li>统计数量
<ul><li>count(星号)</li></ul></li> <li>求和
<ul><li>sum(math+english+chinese)</li></ul></li> <li>平均值
<ul><li>avg(math+english+chinese)</li></ul></li> <li>找最值
<ul><li>max(列)/min(列)/max(math+english+chinese)</li></ul></li></ul> <h2 id="排序-order-by"><a href="#排序-order-by" aria-hidden="true" class="header-anchor">#</a> 排序(order by)</h2> <ul><li><code>select * from student where 1= 1 order by chinese desc,math desc,english desc;</code></li></ul> <h2 id="分组-group-by"><a href="#分组-group-by" aria-hidden="true" class="header-anchor">#</a> 分组(group by)</h2> <ul><li>如果聚合函数只有一行，需要对于不同的集合做聚合运算就加上分组
<ul><li><code>select zu,count(*) from student group by zu;</code></li></ul></li></ul> <h2 id="分页-limit"><a href="#分页-limit" aria-hidden="true" class="header-anchor">#</a> 分页(limit)</h2> <div class="language- line-numbers-mode"><pre class="language-text"><code>    - `select * from student limit 10,5;`
    - limit offset(起始位置) count(显示多少个)
    - limit 使用的时候，offset从0开始
    - 豆瓣： offset （当前页-1）* 页显示数
        + count ： 页显示数
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="默认端口"><a href="#默认端口" aria-hidden="true" class="header-anchor">#</a> 默认端口</h2> <ul><li>oracle：1521</li> <li>sqlserver ：1433</li> <li>mysql ：3306</li> <li>mongodb ：27017</li> <li>DB2 ： 50000</li></ul></div> <div class="page-edit"><!----> <!----></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/blog/Node.js/Socket.io.html" class="prev">
          Socket.io
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/blog/assets/js/app.cd55051b.js" defer></script><script src="/blog/assets/js/29.b2ceaae7.js" defer></script>
  </body>
</html>
